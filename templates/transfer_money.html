{% extends "index.html" %}
{% block content %}
<h3 style="text-align: center; padding: 10px;">Transfer money</h3>
<form class="mb-3 w-75 m-auto needs-validation" action="/transfer_money" method="POST" novalidate>
    <div class="form-floating mb-3">
    <select class="form-control" id="from_account" name="from_account" required>
        {% for account in accounts %}
        <option value="{{account.id}}">{{account.name}}</option>
        {% endfor %}
    </select>
    <label for="from_account">From account:</label>  
    </div>
    <div class="form-floating mb-3">
    <select class="form-control" id="to_account" name="to_account" required>
        {% for account in accounts %}
        <option value="{{account.id}}">{{account.name}}</option>
        {% endfor %}
    </select>
    <label for="to_account">To account:</label>
    </div>
    <div class="form-floating mb-3">
        <input class="form-control" type="number" step="0.01" id="amount" name="amount" required>
        <label for="amount">Amount:</label>
        <div class="invalid-feedback">
            Please provide an amount.
        </div> 
    </div>
    <input class="btn btn-primary" type="submit" value="Transfer money">
    <input class="btn btn-secondary" type="reset" value="Clear">
</form>
<script>
        // Form Validation
        (() => {
        'use strict'
    
        const forms = document.querySelectorAll('.needs-validation')
    
        Array.from(forms).forEach(form => {
            form.addEventListener('submit', event => {
            if (!form.checkValidity()) {
                event.preventDefault()
                event.stopPropagation()
            }
    
            form.classList.add('was-validated')
            }, false)
        })
        })()
    </script>
{% endblock %}